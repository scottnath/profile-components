{"version":3,"file":"preview-c17b6e73.js","sources":["../../node_modules/storybook-addon-mock/dist/esm/utils/constants.js","../../node_modules/mock-xmlhttprequest/dist/esm/HeadersContainer.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/MockXhrRequest.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/Utils.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/RequestData.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/XhrEvent.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/XhrProgressEvent.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/XhrEventTarget.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/MockXhr.mjs","../../node_modules/mock-xmlhttprequest/dist/esm/Factories.mjs","../../node_modules/storybook-addon-mock/node_modules/path-to-regexp/dist.es2015/index.js","../../node_modules/storybook-addon-mock/dist/esm/utils/url.js","../../node_modules/storybook-addon-mock/dist/esm/utils/request.js","../../node_modules/storybook-addon-mock/dist/esm/utils/statusMap.js","../../node_modules/storybook-addon-mock/dist/esm/utils/headers.js","../../node_modules/storybook-addon-mock/dist/esm/utils/response.js","../../node_modules/storybook-addon-mock/dist/esm/utils/array.js","../../node_modules/storybook-addon-mock/dist/esm/utils/validator.js","../../node_modules/storybook-addon-mock/dist/esm/utils/faker.js","../../node_modules/storybook-addon-mock/dist/esm/withRoundTrip.js","../../node_modules/storybook-addon-mock/dist/esm/preset/preview.js"],"sourcesContent":["export var ADDON_ID = 'storybook/addon-mock';\nexport var PANEL_ID = \"\".concat(ADDON_ID, \"/panel\");\nexport var PARAM_KEY = 'mockData';\nexport var GLOBAL_PARAM_KEY = 'mockAddonConfigs';\nexport var EVENTS = {\n  SEND: \"\".concat(ADDON_ID, \"/send\"),\n  UPDATE: \"\".concat(ADDON_ID, \"/update\")\n};","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\n/**\n * HTTP header container\n */\nclass HeadersContainer {\n    constructor(headersOrSrc) {\n        this._headers = new Map();\n        if (headersOrSrc) {\n            if (headersOrSrc instanceof HeadersContainer) {\n                // eslint-disable-next-line no-underscore-dangle\n                this._headers = new Map(headersOrSrc._headers);\n            }\n            else {\n                Object.entries(headersOrSrc).forEach(([key, value]) => this.addHeader(key, value));\n            }\n        }\n    }\n    /**\n     * Reset the container to its empty state.\n     *\n     * @returns this\n     */\n    reset() {\n        this._headers.clear();\n        return this;\n    }\n    /**\n     * @param name Header name (case insensitive)\n     * @returns Header value or null\n     */\n    getHeader(name) {\n        return this._headers.get(name.toUpperCase()) ?? null;\n    }\n    /**\n     * Get all headers as a string. Each header is on its own line. All header names are lower-case.\n     *\n     * @returns Concatenated headers\n     */\n    getAll() {\n        // Sort the header names. It's not mandated by RFC 7230 but it makes assertion testing easier\n        // and, most importantly, it is required by getAllResponseHeaders() of XMLHttpRequest.\n        // See https://xhr.spec.whatwg.org/#the-getallresponseheaders()-method\n        const headerNames = [...this._headers.keys()].sort();\n        // Combine the header values\n        const headers = headerNames.reduce((result, name) => {\n            const headerValue = this._headers.get(name);\n            return `${result}${name.toLowerCase()}: ${headerValue}\\r\\n`;\n        }, '');\n        return headers;\n    }\n    /**\n     * @returns All headers as an object. The header names are in lower-case.\n     */\n    getHash() {\n        const headers = {};\n        this._headers.forEach((value, name) => {\n            headers[name.toLowerCase()] = value;\n        });\n        return headers;\n    }\n    /**\n     * Add a header value, combining it with any previous value for the same header name.\n     *\n     * @param name Header name\n     * @param value Header value\n     * @returns this\n     */\n    addHeader(name, value) {\n        name = name.toUpperCase();\n        value = value ?? '';\n        const currentValue = this._headers.get(name);\n        if (currentValue !== undefined) {\n            value = `${currentValue}, ${value}`;\n        }\n        this._headers.set(name, value);\n        return this;\n    }\n}\n\nexport { HeadersContainer as default };\n//# sourceMappingURL=HeadersContainer.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\n/**\n * A request produced by MockXhr.send() and methods to respond to it.\n *\n * Each call to MockXhr.send() on an instance creates a new instance of MockXhrRequest. When there\n * are multiple active MockXhrRequest instances for the same MockXhr instance, only the response to\n * the last one is considered. Responses to previous MockXhrRequests are ignored.\n */\nclass MockXhrRequest {\n    constructor(_requestData, _responseReceiver) {\n        this._requestData = _requestData;\n        this._responseReceiver = _responseReceiver;\n    }\n    get requestData() { return this._requestData; }\n    /**\n     * @returns Request headers container\n     */\n    get requestHeaders() { return this._requestData.requestHeaders; }\n    get method() { return this._requestData.method; }\n    get url() { return this._requestData.url; }\n    get body() { return this._requestData.body; }\n    get withCredentials() { return this._requestData.withCredentials; }\n    /**\n     * Note: this isn't completely accurate for a multipart/form-data encoded FormData request body.\n     * MockXhr not consider headers, encoding, and other factors that influence the request body size\n     * of non-mocked XMLHttpRequest. You can consider the value returned by this method as a floor\n     * value for the request body size. This can still be useful to simulate upload progress events.\n     *\n     * @returns Request body's total byte size\n     */\n    getRequestBodySize() { return this._requestData.getRequestBodySize(); }\n    /**\n     * Fire a request upload progress event.\n     *\n     * @param transmitted Transmitted bytes\n     */\n    uploadProgress(transmitted) {\n        this._responseReceiver.uploadProgress(this._requestData, transmitted);\n    }\n    /**\n     * Complete response method that sets the response headers and body. Changes the request's\n     * readyState to DONE.\n     *\n     * @param status Response HTTP status (default 200)\n     * @param headers Name-value headers (optional)\n     * @param body Response body (default null)\n     * @param statusText Response HTTP status text (optional)\n     */\n    respond(status, headers, body, statusText) {\n        this.setResponseHeaders(status, headers, statusText);\n        this.setResponseBody(body);\n    }\n    /**\n     * Set the response headers. Changes the request's readyState to HEADERS_RECEIVED.\n     *\n     * @param status Response HTTP status (default 200)\n     * @param headers Name-value headers (optional)\n     * @param statusText Response HTTP status text (optional)\n     */\n    setResponseHeaders(status, headers, statusText) {\n        this._responseReceiver.setResponseHeaders(this._requestData, status, headers, statusText);\n    }\n    /**\n     * Fire a response progress event. Changes the request's readyState to LOADING.\n     *\n     * @param transmitted Transmitted bytes\n     * @param length Body length in bytes\n     */\n    downloadProgress(transmitted, length) {\n        this._responseReceiver.downloadProgress(this._requestData, transmitted, length);\n    }\n    /**\n     * Set the response body. Changes the request's readyState to DONE.\n     *\n     * @param body Response body (default null)\n     */\n    setResponseBody(body = null) {\n        this._responseReceiver.setResponseBody(this._requestData, body);\n    }\n    /**\n     * Simulate a network error. Changes the request's readyState to DONE.\n     */\n    setNetworkError() {\n        this._responseReceiver.setNetworkError(this._requestData);\n    }\n    /**\n     * Simulate a request timeout. Changes the request's readyState to DONE.\n     */\n    setRequestTimeout() {\n        this._responseReceiver.setRequestTimeout(this._requestData);\n    }\n}\n\nexport { MockXhrRequest as default };\n//# sourceMappingURL=MockXhrRequest.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\nfunction getBodyByteSize(body) {\n    if (!body) {\n        return 0;\n    }\n    if (typeof body === 'string') {\n        return getStringByteLength(body);\n    }\n    else if ((typeof FormData !== 'undefined' && body instanceof FormData)\n        || (body.constructor && body.constructor.name === 'FormData')) {\n        // A FormData has field-value pairs. This testing code only sums the individual sizes of the\n        // values. The full multipart/form-data encoding also adds headers, encoding, etc. which we\n        // don't reproduce here.\n        return [...body.values()].reduce((sum, value) => {\n            const valueSize = value.size ?? getStringByteLength(String(value.toString()));\n            return sum + valueSize;\n        }, 0);\n    }\n    // Handles Blob and BufferSource\n    return body.size || body.byteLength || 0;\n}\nfunction getStringByteLength(string) {\n    // Compute the byte length of the string (which is not the same as string.length)\n    // Use Blob if available (i.e. in the browser) and Buffer otherwise.\n    return typeof Blob !== 'undefined' ? new Blob([string]).size : Buffer.byteLength(string);\n}\nconst isTokenRegEx = /^[A-Za-z0-9!#$%&'*+\\-.^_`|~]+$/;\n/**\n * See https://datatracker.ietf.org/doc/html/rfc7230#section-3.2.6\n * @param token Token\n * @returns Whether token is a valid token\n */\nfunction isToken(token) {\n    return typeof token === 'string' && isTokenRegEx.test(token);\n}\n/**\n * https://datatracker.ietf.org/doc/html/rfc7230#section-3.2\n * @param headerName Header name\n * @returns Whether headerName is a valid header name\n */\nfunction isHeaderName(headerName) {\n    return isToken(headerName);\n}\n/**\n * https://fetch.spec.whatwg.org/#header-value\n * @param headerValue Header value\n * @returns Whether headerValue is a valid header value\n */\nfunction isHeaderValue(headerValue) {\n    return typeof headerValue === 'string'\n        && headerValue.trim().length === headerValue.length\n        && headerValue.indexOf('\\0') === -1;\n}\n// Disallowed request headers for setRequestHeader()\nconst forbiddenHeaders = [\n    'Accept-Charset',\n    'Accept-Encoding',\n    'Access-Control-Request-Headers',\n    'Access-Control-Request-Method',\n    'Connection',\n    'Content-Length',\n    'Cookie',\n    'Cookie2',\n    'Date',\n    'DNT',\n    'Expect',\n    'Host',\n    'Keep-Alive',\n    'Origin',\n    'Referer',\n    'TE',\n    'Trailer',\n    'Transfer-Encoding',\n    'Upgrade',\n    'Via',\n];\nconst forbiddenHeaderRegEx = new RegExp(`^(${forbiddenHeaders.join('|')}|Proxy-.*|Sec-.*)$`, 'i');\n/**\n * See https://fetch.spec.whatwg.org/#forbidden-header-name\n *\n * @param name Header name\n * @returns Whether the request header name is forbidden for XMLHttpRequest\n */\nfunction isRequestHeaderForbidden(name) {\n    return forbiddenHeaderRegEx.test(name);\n}\n/**\n * See https://datatracker.ietf.org/doc/html/rfc7230#section-3.1.1\n * @param method Method name\n * @returns Whether method is a valid request method\n */\nfunction isRequestMethod(method) {\n    return isToken(method);\n}\nconst isRequestMethodForbiddenRegEx = /^(CONNECT|TRACE|TRACK)$/i;\n/**\n * See https://fetch.spec.whatwg.org/#forbidden-method\n *\n * @param method Method name\n * @returns Whether the request method is forbidden for XMLHttpRequest\n */\nfunction isRequestMethodForbidden(method) {\n    return isRequestMethodForbiddenRegEx.test(method);\n}\n// Normalize method names as described in open()\n// https://xhr.spec.whatwg.org/#the-open()-method\nconst upperCaseMethods = [\n    'DELETE',\n    'GET',\n    'HEAD',\n    'OPTIONS',\n    'POST',\n    'PUT',\n];\nconst upperCaseMethodsRegEx = new RegExp(`^(${upperCaseMethods.join('|')})$`, 'i');\n/**\n * See https://fetch.spec.whatwg.org/#concept-method-normalize\n *\n * @param method HTTP method name\n * @returns Normalized method name\n */\nfunction normalizeHTTPMethodName(method) {\n    if (upperCaseMethodsRegEx.test(method)) {\n        method = method.toUpperCase();\n    }\n    return method;\n}\n// Status code reason phrases from RFC 7231 §6.1, RFC 4918, RFC 5842, RFC 6585 and RFC 7538\nconst statusTexts = {\n    100: 'Continue',\n    101: 'Switching Protocols',\n    200: 'OK',\n    201: 'Created',\n    202: 'Accepted',\n    203: 'Non-Authoritative Information',\n    204: 'No Content',\n    205: 'Reset Content',\n    206: 'Partial Content',\n    207: 'Multi-Status',\n    208: 'Already Reported',\n    300: 'Multiple Choices',\n    301: 'Moved Permanently',\n    302: 'Found',\n    303: 'See Other',\n    304: 'Not Modified',\n    305: 'Use Proxy',\n    307: 'Temporary Redirect',\n    308: 'Permanent Redirect',\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    405: 'Method Not Allowed',\n    406: 'Not Acceptable',\n    407: 'Proxy Authentication Required',\n    408: 'Request Timeout',\n    409: 'Conflict',\n    410: 'Gone',\n    411: 'Length Required',\n    412: 'Precondition Failed',\n    413: 'Payload Too Large',\n    414: 'URI Too Long',\n    415: 'Unsupported Media Type',\n    416: 'Range Not Satisfiable',\n    417: 'Expectation Failed',\n    422: 'Unprocessable Entity',\n    423: 'Locked',\n    424: 'Failed Dependency',\n    426: 'Upgrade Required',\n    428: 'Precondition Required',\n    429: 'Too Many Requests',\n    431: 'Request Header Fields Too Large',\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Gateway Timeout',\n    505: 'HTTP Version Not Supported',\n    507: 'Insufficient Storage',\n    511: 'Network Authentication Required', // RFC 6585\n};\n/**\n * @param status HTTP status code\n * @returns Status text\n */\nfunction getStatusText(status) {\n    return statusTexts[status] ?? 'Unknown Status';\n}\n\nexport { getBodyByteSize, getStatusText, isHeaderName, isHeaderValue, isRequestHeaderForbidden, isRequestMethod, isRequestMethodForbidden, normalizeHTTPMethodName, upperCaseMethods };\n//# sourceMappingURL=Utils.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\nimport HeadersContainer from './HeadersContainer.mjs';\nimport { getBodyByteSize } from './Utils.mjs';\n\n/**\n * Request parameters from MockXhr.send()\n */\nclass RequestData {\n    constructor(_requestHeaders, _method, _url, _body = null, _credentialsMode = false) {\n        this._requestHeaders = _requestHeaders;\n        this._method = _method;\n        this._url = _url;\n        this._body = _body;\n        this._credentialsMode = _credentialsMode;\n    }\n    /**\n     * @returns Request headers container\n     */\n    get requestHeaders() { return new HeadersContainer(this._requestHeaders); }\n    get method() { return this._method; }\n    get url() { return this._url; }\n    get body() { return this._body; }\n    get withCredentials() { return this._credentialsMode; }\n    /**\n     * Note: this isn't completely accurate for a multipart/form-data encoded FormData request body.\n     * MockXhr not consider headers, encoding, and other factors that influence the request body size\n     * of non-mocked XMLHttpRequest. You can consider the value returned by this method as a floor\n     * value for the request body size. This can still be useful to simulate upload progress events.\n     *\n     * @returns Request body's total byte size\n     */\n    getRequestBodySize() {\n        return getBodyByteSize(this.body);\n    }\n}\n\nexport { RequestData as default };\n//# sourceMappingURL=RequestData.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\n/**\n * XMLHttpRequest Event\n */\nclass XhrEvent {\n    /**\n     * @param type Event type\n     */\n    constructor(type) {\n        this.type = type;\n    }\n}\n\nexport { XhrEvent as default };\n//# sourceMappingURL=XhrEvent.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\nimport XhrEvent from './XhrEvent.mjs';\n\n/**\n * XMLHttpRequest ProgressEvent\n */\nclass XhrProgressEvent extends XhrEvent {\n    /**\n     * @param type Event type\n     * @param loaded Loaded bytes\n     * @param total Total bytes\n     */\n    constructor(type, loaded = 0, total = 0) {\n        super(type);\n        this.loaded = loaded;\n        this.total = total;\n        this.lengthComputable = total > 0;\n    }\n}\n\nexport { XhrProgressEvent as default };\n//# sourceMappingURL=XhrProgressEvent.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\n/**\n * Implementation of XMLHttpRequestEventTarget. A target for dispatching events.\n *\n * See https://xhr.spec.whatwg.org/#xmlhttprequesteventtarget\n */\nclass XhrEventTarget {\n    constructor(eventContext) {\n        this._eventContext = eventContext ?? this;\n        this._listeners = new Map();\n    }\n    get onabort() { return this._getEventHandlerProperty('abort'); }\n    set onabort(value) { this._setEventHandlerProperty('abort', value); }\n    get onerror() { return this._getEventHandlerProperty('error'); }\n    set onerror(value) { this._setEventHandlerProperty('error', value); }\n    get onload() { return this._getEventHandlerProperty('load'); }\n    set onload(value) { this._setEventHandlerProperty('load', value); }\n    get onloadend() { return this._getEventHandlerProperty('loadend'); }\n    set onloadend(value) { this._setEventHandlerProperty('loadend', value); }\n    get onloadstart() { return this._getEventHandlerProperty('loadstart'); }\n    set onloadstart(value) { this._setEventHandlerProperty('loadstart', value); }\n    get onprogress() { return this._getEventHandlerProperty('progress'); }\n    set onprogress(value) { this._setEventHandlerProperty('progress', value); }\n    get ontimeout() { return this._getEventHandlerProperty('timeout'); }\n    set ontimeout(value) { this._setEventHandlerProperty('timeout', value); }\n    /**\n     * @returns Whether any event listener is registered\n     */\n    hasListeners() {\n        return [...this._listeners.values()].some((listeners) => listeners.length > 0);\n    }\n    addEventListener(type, listener, options) {\n        if (listener) {\n            const listenerEntry = makeListenerEntry(listener, false, options);\n            const listeners = this._listeners.get(type) ?? [];\n            // If eventTarget’s event listener list does not contain an event listener whose type is\n            // listener’s type, callback is listener’s callback, and capture is listener’s capture, then\n            // append listener to eventTarget’s event listener list.\n            // See https://dom.spec.whatwg.org/#add-an-event-listener\n            if (listeners.every(({ isEventHandlerProperty, listener, useCapture }) => {\n                return isEventHandlerProperty\n                    || listenerEntry.listener !== listener\n                    || listenerEntry.useCapture !== useCapture;\n            })) {\n                listeners.push(listenerEntry);\n                this._listeners.set(type, listeners);\n            }\n        }\n    }\n    removeEventListener(type, listener, options) {\n        if (listener) {\n            const listeners = this._listeners.get(type);\n            if (listeners) {\n                const listenerEntry = makeListenerEntry(listener, false, options);\n                const index = listeners.findIndex(({ isEventHandlerProperty, listener, useCapture }) => {\n                    return !isEventHandlerProperty\n                        && listenerEntry.listener === listener\n                        && listenerEntry.useCapture === useCapture;\n                });\n                if (index >= 0) {\n                    listeners[index].removed = true;\n                    listeners.splice(index, 1);\n                }\n            }\n        }\n    }\n    /**\n     * Calls all the listeners for the event.\n     *\n     * @param event Event\n     * @returns Always true since none of the xhr event are cancelable\n     */\n    dispatchEvent(event) {\n        // Only the event listeners registered at this point should be called. Storing them here avoids\n        // problems with callbacks that add or remove listeners.\n        const listeners = this._listeners.get(event.type);\n        if (listeners) {\n            [...listeners].forEach((listenerEntry) => {\n                if (!listenerEntry.removed) {\n                    if (listenerEntry.once) {\n                        const index = listeners.indexOf(listenerEntry);\n                        if (index >= 0) {\n                            listeners.splice(index, 1);\n                        }\n                    }\n                    if (typeof listenerEntry.listener === 'function') {\n                        listenerEntry.listener.call(this._eventContext, event);\n                    }\n                    else {\n                        listenerEntry.listener.handleEvent(event);\n                    }\n                }\n            });\n        }\n        return true;\n    }\n    _getEventHandlerProperty(event) {\n        const listeners = this._listeners.get(event);\n        if (listeners) {\n            const entry = listeners.find((entry) => entry.isEventHandlerProperty);\n            if (entry) {\n                return entry.listener;\n            }\n        }\n        return null;\n    }\n    _setEventHandlerProperty(event, value) {\n        const listeners = this._listeners.get(event);\n        if (listeners) {\n            const index = listeners.findIndex((entry) => entry.isEventHandlerProperty);\n            if (index >= 0) {\n                if (listeners[index].listener === value) {\n                    // no change\n                    return;\n                }\n                listeners[index].removed = true;\n                listeners.splice(index, 1);\n            }\n        }\n        if (value) {\n            const listenerEntry = makeListenerEntry(value, true);\n            if (listeners) {\n                listeners.push(listenerEntry);\n            }\n            else {\n                this._listeners.set(event, [listenerEntry]);\n            }\n        }\n    }\n}\nfunction makeListenerEntry(listener, isEventHandlerProperty, options) {\n    const optionsIsBoolean = typeof options === 'boolean';\n    return {\n        listener,\n        isEventHandlerProperty,\n        useCapture: optionsIsBoolean ? options : !!options?.capture,\n        once: optionsIsBoolean ? false : !!options?.once,\n        removed: false,\n    };\n}\n\nexport { XhrEventTarget as default };\n//# sourceMappingURL=XhrEventTarget.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\nimport HeadersContainer from './HeadersContainer.mjs';\nimport MockXhrRequest from './MockXhrRequest.mjs';\nimport RequestData from './RequestData.mjs';\nimport XhrEvent from './XhrEvent.mjs';\nimport XhrProgressEvent from './XhrProgressEvent.mjs';\nimport { getBodyByteSize, isRequestMethod, isRequestMethodForbidden, normalizeHTTPMethodName, isHeaderName, isHeaderValue, isRequestHeaderForbidden, getStatusText } from './Utils.mjs';\nimport XhrEventTarget from './XhrEventTarget.mjs';\n\nconst RESPONSE_TYPES = ['', 'arraybuffer', 'blob', 'document', 'json', 'text'];\n/**\n * XMLHttpRequest mock for testing.\n * Based on https://xhr.spec.whatwg.org version '15 August 2022'.\n *\n * Supports:\n *  - Events and states\n *  - open(), setRequestHeader(), send() and abort()\n *  - Upload and download progress events\n *  - Response status, statusText, headers and body\n *  - The timeout attribute (can be disabled)\n *  - Simulating a network error (see setNetworkError())\n *  - Simulating a request timeout (see setRequestTimeout())\n *\n * Partial support:\n *  - overrideMimeType(): throws when required, but has no other effect.\n *  - responseType: '', 'text' and 'json' are fully supported. The responseType values have no\n *    effect on the response body passed to setResponseBody().\n *  - responseXml: the response body is not converted to a document response. To get a document\n *    response, pass it directly as the response body in setResponseBody().\n *  - responseUrl: the final request URL after redirects isn't automatically set. This can be\n *    emulated in a request handler.\n *\n * Not supported:\n * - Synchronous requests (i.e. async set to false in open())\n * - Parsing the request URL in open() and throwing SyntaxError on failure.\n */\nclass MockXhr extends XhrEventTarget {\n    constructor() {\n        super();\n        this.UNSENT = MockXhr.UNSENT;\n        this.OPENED = MockXhr.OPENED;\n        this.HEADERS_RECEIVED = MockXhr.HEADERS_RECEIVED;\n        this.LOADING = MockXhr.LOADING;\n        this.DONE = MockXhr.DONE;\n        this._authorRequestHeaders = new HeadersContainer();\n        this._readyState = MockXhr.UNSENT;\n        this._timeout = 0;\n        this._crossOriginCredentials = false;\n        this._uploadObject = new XhrEventTarget(this);\n        this.responseURL = '';\n        this._responseType = '';\n        this._response = makeNetworkErrorResponse();\n        this._timeoutReference = 0;\n        this.onreadystatechange = null;\n        this.timeoutEnabled = true;\n        MockXhr.onCreate?.(this);\n    }\n    get onreadystatechange() {\n        return this._getEventHandlerProperty('readystatechange');\n    }\n    set onreadystatechange(value) {\n        this._setEventHandlerProperty('readystatechange', value);\n    }\n    /**\n     * @returns The current active request, if any\n     */\n    get currentRequest() { return this._currentRequest; }\n    /**\n     * @returns All response headers as an object. The header names are in lower-case.\n     */\n    getResponseHeadersHash() {\n        return this._response.headers.getHash();\n    }\n    //------------------------\n    // MockXhrResponseReceiver\n    //------------------------\n    /**\n     * Fire a request upload progress event.\n     *\n     * @param request Originating request\n     * @param requestBodyTransmitted Bytes transmitted\n     * @see {@link https://xhr.spec.whatwg.org/#the-send()-method \"processRequestBodyChunkLength\" steps}\n     */\n    uploadProgress(request, requestBodyTransmitted) {\n        // Only act if the originating request is the current active request\n        if (this._currentRequest?.requestData === request) {\n            if (!this._sendFlag) {\n                throw new Error('Mock usage error detected: call send() first (the \"send() flag\" is not set)');\n            }\n            if (this._uploadCompleteFlag) {\n                throw new Error('Mock usage error detected: upload already completed (the \"upload complete flag\" is set)');\n            }\n            const requestBodyLength = request.getRequestBodySize();\n            if (requestBodyTransmitted > requestBodyLength) {\n                throw new Error(`Mock usage error detected: upload progress \"requestBodyTransmitted\" (${requestBodyTransmitted}) `\n                    + `is greater than \"requestBodyLength\" (${requestBodyLength})`);\n            }\n            // Don't throttle events based on elapsed time because it would make tests much slower and\n            // harder to write.\n            if (this._uploadListenerFlag) {\n                // If no listeners were registered before send(), no upload events should be fired.\n                this._fireUploadProgressEvent('progress', requestBodyTransmitted, requestBodyLength);\n            }\n        }\n    }\n    /**\n     * Set the response headers. Changes the request's readyState to HEADERS_RECEIVED.\n     *\n     * @param request Originating request\n     * @param status Response http status (default 200)\n     * @param headers Name-value headers (optional)\n     * @param statusText Response http status text (optional)\n     */\n    setResponseHeaders(request, status, headers, statusText) {\n        // Only act if the originating request is the current active request\n        if (this._currentRequest?.requestData === request) {\n            if (!this._sendFlag) {\n                throw new Error('Mock usage error detected: call send() first (the \"send() flag\" is not set)');\n            }\n            if (this._readyState !== MockXhr.OPENED) {\n                throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be OPENED (${MockXhr.OPENED})`);\n            }\n            if (request.body) {\n                this._processRequestEndOfBody(request.getRequestBodySize(), request.getRequestBodySize());\n            }\n            status = typeof status === 'number' ? status : 200;\n            const statusMessage = statusText ?? getStatusText(status);\n            this._processResponse({\n                status,\n                statusMessage,\n                headers: new HeadersContainer(headers),\n            });\n        }\n    }\n    /**\n     * Fire a response progress event. Changes the request's readyState to LOADING.\n     *\n     * @param request Originating request\n     * @param receivedBytesLength Received bytes' length\n     * @param length Body length in bytes\n     * @see {@link https://xhr.spec.whatwg.org/#the-send()-method \"processBodyChunk\" steps}\n     */\n    downloadProgress(request, receivedBytesLength, length) {\n        // Only act if the originating request is the current active request\n        if (this._currentRequest?.requestData === request) {\n            if (this._readyState !== MockXhr.HEADERS_RECEIVED\n                && this._readyState !== MockXhr.LOADING) {\n                throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be `\n                    + `HEADERS_RECEIVED (${MockXhr.HEADERS_RECEIVED}) or LOADING (${MockXhr.LOADING})`);\n            }\n            if (this._readyState === MockXhr.HEADERS_RECEIVED) {\n                this._readyState = MockXhr.LOADING;\n            }\n            // As stated in https://xhr.spec.whatwg.org/#the-send()-method\n            // Web compatibility is the reason readystatechange fires more often than state changes.\n            this._fireReadyStateChangeEvent();\n            this._fireProgressEvent('progress', receivedBytesLength, length);\n        }\n    }\n    /**\n     * Set the response body. Changes the request's readyState to DONE.\n     *\n     * @param request Originating request\n     * @param body Response body\n     */\n    setResponseBody(request, body) {\n        // Only act if the originating request is the current active request\n        if (this._currentRequest?.requestData === request) {\n            if (!this._sendFlag) {\n                throw new Error('Mock usage error detected: call send() first (the \"send() flag\" is not set)');\n            }\n            if (this._readyState !== MockXhr.OPENED\n                && this._readyState !== MockXhr.HEADERS_RECEIVED\n                && this._readyState !== MockXhr.LOADING) {\n                throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be `\n                    + `OPENED (${MockXhr.OPENED}), HEADERS_RECEIVED (${MockXhr.HEADERS_RECEIVED}) or LOADING (${MockXhr.LOADING})`);\n            }\n            if (this._readyState === MockXhr.OPENED) {\n                // Apply default \"200 - OK\" response headers with a Content-Length if the user didn't call\n                // setResponseHeaders() before this point.\n                const headers = { 'content-length': String(getBodyByteSize(body)) };\n                this.setResponseHeaders(request, 200, headers);\n            }\n            // As stated in https://xhr.spec.whatwg.org/#the-send()-method\n            // Web compatibility is the reason readystatechange fires more often than\n            // state changes.\n            this._readyState = MockXhr.LOADING;\n            this._fireReadyStateChangeEvent();\n            this._response.body = body ?? null;\n            this._handleResponseEndOfBody();\n        }\n    }\n    /**\n     * Simulate a network error. Changes the request's readyState to DONE.\n     *\n     * @param request Originating request\n     */\n    setNetworkError(request) {\n        // Only act if the originating request is the current active request\n        if (this._currentRequest?.requestData === request) {\n            if (!this._sendFlag) {\n                throw new Error('Mock usage error detected: call send() first (the \"send() flag\" is not set)');\n            }\n            this._processResponse(makeNetworkErrorResponse());\n        }\n    }\n    /**\n     * Simulate a request timeout. Changes the request's readyState to DONE.\n     *\n     * @param request Originating request\n     */\n    setRequestTimeout(request) {\n        // Only act if the originating request is the current active request\n        if (this._currentRequest?.requestData === request) {\n            if (!this._sendFlag) {\n                throw new Error('Mock usage error detected: call send() first (the \"send() flag\" is not set)');\n            }\n            if (this.timeout === 0) {\n                throw new Error('Mock usage error detected: the timeout attribute must be greater than 0 for a timeout to occur');\n            }\n            this._timedOutFlag = true;\n            this._terminateFetchController();\n            this._processResponse(makeNetworkErrorResponse());\n        }\n    }\n    //-------\n    // States\n    //-------\n    /**\n     * @returns Client's state\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-readystate}\n     */\n    get readyState() { return this._readyState; }\n    //--------\n    // Request\n    //--------\n    /**\n     * Set the request method and url.\n     *\n     * @param method Request HTTP method (GET, POST, etc.)\n     * @param url Request url\n     * @param async Async request flag (only true or omitted is supported)\n     * @see {@link https://xhr.spec.whatwg.org/#the-open()-method}\n     */\n    open(method, url, async) {\n        if (!async && arguments.length > 2) {\n            throw new Error('async = false is not supported.');\n        }\n        if (!isRequestMethod(method)) {\n            throwError('SyntaxError', `Method \"${method}\" is not a method.`);\n        }\n        if (isRequestMethodForbidden(method)) {\n            throwError('SecurityError', `Method \"${method}\" forbidden.`);\n        }\n        method = normalizeHTTPMethodName(method);\n        // Skip parsing the url and setting the username and password\n        this._terminateFetchController();\n        // Set variables\n        this._sendFlag = false;\n        this._uploadListenerFlag = false;\n        this._requestMethod = method;\n        this._requestUrl = url.toString();\n        this._authorRequestHeaders.reset();\n        this._response = makeNetworkErrorResponse();\n        if (this._readyState !== MockXhr.OPENED) {\n            this._readyState = MockXhr.OPENED;\n            this._fireReadyStateChangeEvent();\n        }\n    }\n    /**\n     * Add a request header value.\n     *\n     * @param name Header name\n     * @param value Header value\n     * @see {@link https://xhr.spec.whatwg.org/#the-setrequestheader()-method}\n     */\n    setRequestHeader(name, value) {\n        if (this._readyState !== MockXhr.OPENED || this._sendFlag) {\n            throwError('InvalidStateError');\n        }\n        if (typeof name !== 'string' || typeof value !== 'string') {\n            throw new SyntaxError();\n        }\n        // Normalize value\n        value = value.trim();\n        if (!isHeaderName(name)) {\n            throwError('SyntaxError', `Name \"${name}\" is not a header name.`);\n        }\n        else if (!isHeaderValue(value)) {\n            throwError('SyntaxError', `Value \"${value}\" is not a header value.`);\n        }\n        if (isRequestHeaderForbidden(name)) {\n            return;\n        }\n        this._authorRequestHeaders.addHeader(name, value);\n    }\n    /**\n     * @returns timeout attribute\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-timeout}\n     */\n    get timeout() { return this._timeout; }\n    /**\n     * @param value timeout value\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-timeout}\n     */\n    set timeout(value) {\n        this._timeout = value;\n        // Use this._getPrototype() to get the value of timeoutEnabled on the most derived class'\n        // prototype. This allows overriding from a derived class.\n        if (this._sendFlag && this.timeoutEnabled && this._getPrototype().timeoutEnabled) {\n            this._scheduleRequestTimeout();\n        }\n    }\n    /**\n     * @returns withCredentials attribute\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-withcredentials}\n     */\n    get withCredentials() { return this._crossOriginCredentials; }\n    /**\n     * @param value withCredentials value\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-withcredentials}\n     */\n    set withCredentials(value) {\n        if ((this._readyState !== MockXhr.UNSENT && this._readyState !== MockXhr.OPENED)\n            || this._sendFlag) {\n            throwError('InvalidStateError');\n        }\n        this._crossOriginCredentials = !!value;\n    }\n    /**\n     * @returns upload attribute\n     * @see {@link https://xhr.spec.whatwg.org/#the-upload-attribute}\n     */\n    get upload() { return this._uploadObject; }\n    /**\n     * Initiate the request.\n     *\n     * @param body Request body\n     * @see {@link https://xhr.spec.whatwg.org/#the-send()-method}\n     */\n    send(body = null) {\n        if (this._readyState !== MockXhr.OPENED || this._sendFlag) {\n            throwError('InvalidStateError');\n        }\n        if (this._requestMethod === 'GET' || this._requestMethod === 'HEAD') {\n            body = null;\n        }\n        if (body !== null) {\n            let extractedContentType = null;\n            // Document body type not supported\n            // https://fetch.spec.whatwg.org/#bodyinit-safely-extract\n            {\n                let contentType = null;\n                if (typeof body === 'string') {\n                    contentType = 'text/plain;charset=UTF-8';\n                }\n                else if (typeof FormData !== 'undefined' && body instanceof FormData) {\n                    contentType = 'multipart/form-data; boundary=-----MochXhr1234';\n                }\n                else if (body.type) {\n                    // As specified for Blob\n                    contentType = body.type;\n                }\n                extractedContentType = contentType;\n            }\n            const originalAuthorContentType = this._authorRequestHeaders.getHeader('Content-Type');\n            if (originalAuthorContentType !== null) ;\n            else if (extractedContentType !== null) {\n                this._authorRequestHeaders.addHeader('Content-Type', extractedContentType);\n            }\n        }\n        this._uploadListenerFlag = this._uploadObject.hasListeners();\n        const requestData = new RequestData(new HeadersContainer(this._authorRequestHeaders), this._requestMethod, this._requestUrl, body, this._crossOriginCredentials);\n        const req = new MockXhrRequest(requestData, this);\n        this._uploadCompleteFlag = false;\n        this._timedOutFlag = false;\n        this._uploadCompleteFlag = req.body === null;\n        this._sendFlag = true;\n        this._fireProgressEvent('loadstart', 0, 0);\n        if (!this._uploadCompleteFlag && this._uploadListenerFlag) {\n            this._fireUploadProgressEvent('loadstart', 0, req.getRequestBodySize());\n        }\n        if (this._readyState !== MockXhr.OPENED || !this._sendFlag) {\n            return;\n        }\n        // Other interactions are triggered by the mock's MockXhrResponseReceiver API\n        this._currentRequest = req;\n        this._timeoutReference = Date.now();\n        this._scheduleRequestTimeout();\n        this._callOnSend(MockXhr.onSend);\n        const prototype = this._getPrototype();\n        if (prototype !== MockXhr) {\n            this._callOnSend(prototype.onSend);\n        }\n        this._callOnSend(this.onSend);\n    }\n    /**\n     * Abort the request.\n     * @see {@link https://xhr.spec.whatwg.org/#the-abort()-method}\n     */\n    abort() {\n        this._terminateFetchController();\n        if ((this._readyState === MockXhr.OPENED && this._sendFlag)\n            || this._readyState === MockXhr.HEADERS_RECEIVED\n            || this._readyState === MockXhr.LOADING) {\n            this._requestErrorSteps('abort');\n        }\n        if (this._readyState === MockXhr.DONE) {\n            // No readystatechange event is dispatched.\n            this._readyState = MockXhr.UNSENT;\n            this._response = makeNetworkErrorResponse();\n        }\n    }\n    //---------\n    // Response\n    //---------\n    /**\n     * @returns status attribute\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-status}\n     */\n    get status() { return this._response.status; }\n    /**\n     * @returns statusText attribute\n     * @see {@link https://xhr.spec.whatwg.org/#the-statustext-attribute}\n     */\n    get statusText() { return this._response.statusMessage; }\n    /**\n     * Get a response header value.\n     *\n     * @param name Header name\n     * @returns Header value\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-getresponseheader}\n     */\n    getResponseHeader(name) {\n        return this._response.headers.getHeader(name);\n    }\n    /**\n     * Get all response headers as a string.\n     *\n     * @returns Concatenated headers\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-getallresponseheaders}\n     */\n    getAllResponseHeaders() {\n        return this._response.headers.getAll();\n    }\n    /**\n     * Throws when required, but has no other effect.\n     *\n     * @param mime MIME type\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-overridemimetype}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    overrideMimeType(mime) {\n        if (this._readyState === MockXhr.LOADING || this._readyState === MockXhr.DONE) {\n            throwError('InvalidStateError');\n        }\n        // The other steps are not implemented\n    }\n    /**\n     * @returns responseType attribute\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-responsetype}\n     */\n    get responseType() { return this._responseType; }\n    /**\n     * @param value responseType value\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-responsetype}\n     */\n    set responseType(value) {\n        // Since this library is meant to run on node, skip the steps involving the Window object.\n        if (this._readyState === MockXhr.LOADING || this._readyState === MockXhr.DONE) {\n            throwError('InvalidStateError');\n        }\n        // The spec doesn't mandate throwing anything on invalid values since values must be of type\n        // XMLHttpRequestResponseType. Observed browser behavior is to ignore invalid values.\n        if (RESPONSE_TYPES.includes(value)) {\n            this._responseType = value;\n        }\n    }\n    /**\n     * @returns response attribute\n     * @see {@link https://xhr.spec.whatwg.org/#the-response-attribute}\n     */\n    get response() {\n        if (this._responseType === '' || this._responseType === 'text') {\n            if (this._readyState !== MockXhr.LOADING && this._readyState !== MockXhr.DONE) {\n                return '';\n            }\n            return this._getTextResponse();\n        }\n        if (this._readyState !== MockXhr.DONE) {\n            return null;\n        }\n        // No specific handling of 'arraybuffer', 'blob', or 'document' response types\n        if (this._responseType === 'json') {\n            if (this._response.body === null) {\n                return null;\n            }\n            try {\n                return JSON.parse(this._response.body);\n            }\n            catch (e) {\n                return null;\n            }\n        }\n        // Other responseTypes are sent as-is. They can be given directly by setResponseBody() anyway.\n        return this._response.body;\n    }\n    /**\n     * @returns responseText attribute\n     * @see {@link https://xhr.spec.whatwg.org/#the-responsetext-attribute}\n     */\n    get responseText() {\n        if (this._responseType !== '' && this._responseType !== 'text') {\n            throwError('InvalidStateError');\n        }\n        if (this._readyState !== MockXhr.LOADING && this._readyState !== MockXhr.DONE) {\n            return '';\n        }\n        return this._getTextResponse();\n    }\n    /**\n     * @returns responseXML attribute\n     * @see {@link https://xhr.spec.whatwg.org/#dom-xmlhttprequest-responsexml}\n     */\n    get responseXML() {\n        if (this._responseType !== '' && this._responseType !== 'document') {\n            throwError('InvalidStateError');\n        }\n        if (this._readyState !== MockXhr.DONE) {\n            return null;\n        }\n        // The response body is not converted to a document response. To get a document\n        // response, pass it directly as the response body in setResponseBody().\n        return this._response.body ?? '';\n    }\n    //------------------------------\n    // Request and response handling\n    //------------------------------\n    /**\n     * Steps for when the request upload is complete.\n     *\n     * @param requestBodyTransmitted Bytes transmitted\n     * @param requestBodyLength Request body's length\n     * @see {@link https://xhr.spec.whatwg.org/#the-send()-method \"processRequestEndOfBody\" steps}\n     */\n    _processRequestEndOfBody(requestBodyTransmitted, requestBodyLength) {\n        this._uploadCompleteFlag = true;\n        // There must be at least one Upload listener registered before send() to emit upload progress\n        // events.\n        if (!this._uploadListenerFlag) {\n            return;\n        }\n        this._fireUploadProgressEvent('progress', requestBodyTransmitted, requestBodyLength);\n        this._fireUploadProgressEvent('load', requestBodyTransmitted, requestBodyLength);\n        this._fireUploadProgressEvent('loadend', requestBodyTransmitted, requestBodyLength);\n    }\n    /**\n     * Steps for when the response headers are received.\n     *\n     * @param response Response\n     * @see {@link https://xhr.spec.whatwg.org/#the-send()-method \"processResponse\" steps}\n     */\n    _processResponse(response) {\n        this._response = response;\n        this._handleErrors();\n        if (this._response.isNetworkError) {\n            return;\n        }\n        this._readyState = MockXhr.HEADERS_RECEIVED;\n        this._fireReadyStateChangeEvent();\n        if (this._readyState !== MockXhr.HEADERS_RECEIVED) {\n            return;\n        }\n        if (this._response.body === null) {\n            this._handleResponseEndOfBody();\n        }\n        // Don't do the step that extract a length from the response's header list. The\n        // downloadProgress() method of the mock's MockXhrResponseReceiver API has a length argument\n        // that is used instead.\n        // Further steps are triggered by the mock's MockXhrResponseReceiver API\n    }\n    /**\n     * Handle response end-of-body for response.\n     *\n     * @see {@link https://xhr.spec.whatwg.org/#handle-response-end-of-body}\n     */\n    _handleResponseEndOfBody() {\n        this._handleErrors();\n        if (this._response.isNetworkError) {\n            return;\n        }\n        const length = this._response.body?.length ?? 0;\n        this._fireProgressEvent('progress', length, length);\n        this._readyState = MockXhr.DONE;\n        this._sendFlag = false;\n        this._terminateFetchController();\n        this._fireReadyStateChangeEvent();\n        this._fireProgressEvent('load', length, length);\n        this._fireProgressEvent('loadend', length, length);\n    }\n    /**\n     * The \"handle errors\" steps.\n     *\n     * @see {@link https://xhr.spec.whatwg.org/#handle-errors}\n     */\n    _handleErrors() {\n        if (!this._sendFlag) {\n            return;\n        }\n        if (this._timedOutFlag) {\n            // Timeout\n            this._requestErrorSteps('timeout');\n            // We don't check the aborted flag because it can't be set in the context of this library.\n            // In a browser, the aborted flag can be set if the user presses Esc, the browser stop button,\n            // or the document the fetch is associated with is unloaded.\n        }\n        else if (this._response.isNetworkError) {\n            // Network error\n            this._requestErrorSteps('error');\n        }\n    }\n    /**\n     * The \"request error steps\" for event 'event'.\n     *\n     * @param event Event name\n     * @see {@link https://xhr.spec.whatwg.org/#request-error-steps}\n     */\n    _requestErrorSteps(event) {\n        this._readyState = MockXhr.DONE;\n        this._sendFlag = false;\n        this._response = makeNetworkErrorResponse();\n        this._fireReadyStateChangeEvent();\n        if (!this._uploadCompleteFlag) {\n            this._uploadCompleteFlag = true;\n            if (this._uploadListenerFlag) {\n                // If no listeners were registered before send(), no upload events should be fired.\n                this._fireUploadProgressEvent(event, 0, 0);\n                this._fireUploadProgressEvent('loadend', 0, 0);\n            }\n        }\n        this._fireProgressEvent(event, 0, 0);\n        this._fireProgressEvent('loadend', 0, 0);\n    }\n    _getTextResponse() {\n        // Skip support for charset decoding as outlined in https://xhr.spec.whatwg.org/#text-response\n        // Users of this library should instead directly set a string response body as needed.\n        // The spec allows access to a text response while it's being received (i.e. LOADING state).\n        // This library current offers no way to simulate this.\n        return this._response.body?.toString() ?? '';\n    }\n    //----------\n    // Internals\n    //----------\n    _callOnSend(onSend) {\n        // Saves the callback and request data in case they change before then() executes\n        if (onSend) {\n            const request = this._currentRequest;\n            Promise.resolve().then(() => onSend.call(request, request, this));\n        }\n    }\n    _terminateFetchController() {\n        delete this._currentRequest;\n    }\n    _fireProgressEvent(name, transmitted, length) {\n        this.dispatchEvent(new XhrProgressEvent(name, transmitted, length));\n    }\n    _fireUploadProgressEvent(name, transmitted, length) {\n        this._uploadObject.dispatchEvent(new XhrProgressEvent(name, transmitted, length));\n    }\n    _fireReadyStateChangeEvent() {\n        const event = new XhrEvent('readystatechange');\n        this.dispatchEvent(event);\n    }\n    _scheduleRequestTimeout() {\n        // Cancel any previous timeout task\n        if (this._timeoutTask) {\n            clearTimeout(this._timeoutTask);\n        }\n        if (this._timeout > 0) {\n            // The timeout delay must be measured relative to the start of fetching\n            // https://xhr.spec.whatwg.org/#the-timeout-attribute\n            const delay = Math.max(0, this._timeout - (Date.now() - this._timeoutReference));\n            this._timeoutTask = setTimeout(() => {\n                if (this._sendFlag) {\n                    this._currentRequest.setRequestTimeout();\n                }\n                delete this._timeoutTask;\n            }, delay);\n        }\n    }\n    _getPrototype() {\n        return this.constructor;\n    }\n}\n//-------\n// States\n//-------\nMockXhr.UNSENT = 0;\nMockXhr.OPENED = 1;\nMockXhr.HEADERS_RECEIVED = 2;\nMockXhr.LOADING = 3;\nMockXhr.DONE = 4;\n/**\n * Global flag to enable the effects of the timeout attribute\n */\nMockXhr.timeoutEnabled = true;\nfunction throwError(type, text = '') {\n    const exception = new Error(text);\n    exception.name = type;\n    throw exception;\n}\nfunction makeNetworkErrorResponse() {\n    return {\n        isNetworkError: true,\n        status: 0,\n        statusMessage: '',\n        headers: new HeadersContainer(),\n        body: null,\n    };\n}\n\nexport { MockXhr as default };\n//# sourceMappingURL=MockXhr.mjs.map\n","/**\n * mock-xmlhttprequest v8.2.0\n * (c) 2023 Bertrand Guay-Paquet\n * @license ISC\n */\nimport MockXhr from './MockXhr.mjs';\nimport MockXhrServer from './MockXhrServer.mjs';\n\n/**\n * Create a new \"local\" MockXhr subclass. Using a subclass of `MockXhr` in each test case makes it\n * easier to ensure they are self-contained. For example if you set the onSend static propertiy on\n * a subclass, this will only affect that subclass and not the others created in your other test\n * cases. You therefore don't need to add cleanup code to revert the changes made to the subclass.\n *\n * @returns New MockXhr subclass\n */\nfunction newMockXhr() {\n    var _a;\n    return _a = class LocalMockXhr extends MockXhr {\n            constructor() {\n                super();\n                // Call the local MockXhr subclass' onCreate hook on the new mock instance\n                LocalMockXhr.onCreate?.(this);\n            }\n        },\n        // Reset to default value to override the parent class' flag\n        _a.timeoutEnabled = true,\n        _a;\n}\n/**\n * @param routes Routes\n * @returns new MockXhrServerserver with its own MockXhr subclass.\n */\nfunction newServer(routes) {\n    return new MockXhrServer(newMockXhr(), routes);\n}\n\nexport { newMockXhr, newServer };\n//# sourceMappingURL=Factories.mjs.map\n","/**\n * Tokenize input string.\n */\nfunction lexer(str) {\n    var tokens = [];\n    var i = 0;\n    while (i < str.length) {\n        var char = str[i];\n        if (char === \"*\" || char === \"+\" || char === \"?\") {\n            tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"\\\\\") {\n            tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n            continue;\n        }\n        if (char === \"{\") {\n            tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \"}\") {\n            tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n            continue;\n        }\n        if (char === \":\") {\n            var name = \"\";\n            var j = i + 1;\n            while (j < str.length) {\n                var code = str.charCodeAt(j);\n                if (\n                // `0-9`\n                (code >= 48 && code <= 57) ||\n                    // `A-Z`\n                    (code >= 65 && code <= 90) ||\n                    // `a-z`\n                    (code >= 97 && code <= 122) ||\n                    // `_`\n                    code === 95) {\n                    name += str[j++];\n                    continue;\n                }\n                break;\n            }\n            if (!name)\n                throw new TypeError(\"Missing parameter name at \".concat(i));\n            tokens.push({ type: \"NAME\", index: i, value: name });\n            i = j;\n            continue;\n        }\n        if (char === \"(\") {\n            var count = 1;\n            var pattern = \"\";\n            var j = i + 1;\n            if (str[j] === \"?\") {\n                throw new TypeError(\"Pattern cannot start with \\\"?\\\" at \".concat(j));\n            }\n            while (j < str.length) {\n                if (str[j] === \"\\\\\") {\n                    pattern += str[j++] + str[j++];\n                    continue;\n                }\n                if (str[j] === \")\") {\n                    count--;\n                    if (count === 0) {\n                        j++;\n                        break;\n                    }\n                }\n                else if (str[j] === \"(\") {\n                    count++;\n                    if (str[j + 1] !== \"?\") {\n                        throw new TypeError(\"Capturing groups are not allowed at \".concat(j));\n                    }\n                }\n                pattern += str[j++];\n            }\n            if (count)\n                throw new TypeError(\"Unbalanced pattern at \".concat(i));\n            if (!pattern)\n                throw new TypeError(\"Missing pattern at \".concat(i));\n            tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n            i = j;\n            continue;\n        }\n        tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n    }\n    tokens.push({ type: \"END\", index: i, value: \"\" });\n    return tokens;\n}\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str, options) {\n    if (options === void 0) { options = {}; }\n    var tokens = lexer(str);\n    var _a = options.prefixes, prefixes = _a === void 0 ? \"./\" : _a;\n    var defaultPattern = \"[^\".concat(escapeString(options.delimiter || \"/#?\"), \"]+?\");\n    var result = [];\n    var key = 0;\n    var i = 0;\n    var path = \"\";\n    var tryConsume = function (type) {\n        if (i < tokens.length && tokens[i].type === type)\n            return tokens[i++].value;\n    };\n    var mustConsume = function (type) {\n        var value = tryConsume(type);\n        if (value !== undefined)\n            return value;\n        var _a = tokens[i], nextType = _a.type, index = _a.index;\n        throw new TypeError(\"Unexpected \".concat(nextType, \" at \").concat(index, \", expected \").concat(type));\n    };\n    var consumeText = function () {\n        var result = \"\";\n        var value;\n        while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n            result += value;\n        }\n        return result;\n    };\n    while (i < tokens.length) {\n        var char = tryConsume(\"CHAR\");\n        var name = tryConsume(\"NAME\");\n        var pattern = tryConsume(\"PATTERN\");\n        if (name || pattern) {\n            var prefix = char || \"\";\n            if (prefixes.indexOf(prefix) === -1) {\n                path += prefix;\n                prefix = \"\";\n            }\n            if (path) {\n                result.push(path);\n                path = \"\";\n            }\n            result.push({\n                name: name || key++,\n                prefix: prefix,\n                suffix: \"\",\n                pattern: pattern || defaultPattern,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        var value = char || tryConsume(\"ESCAPED_CHAR\");\n        if (value) {\n            path += value;\n            continue;\n        }\n        if (path) {\n            result.push(path);\n            path = \"\";\n        }\n        var open = tryConsume(\"OPEN\");\n        if (open) {\n            var prefix = consumeText();\n            var name_1 = tryConsume(\"NAME\") || \"\";\n            var pattern_1 = tryConsume(\"PATTERN\") || \"\";\n            var suffix = consumeText();\n            mustConsume(\"CLOSE\");\n            result.push({\n                name: name_1 || (pattern_1 ? key++ : \"\"),\n                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,\n                prefix: prefix,\n                suffix: suffix,\n                modifier: tryConsume(\"MODIFIER\") || \"\",\n            });\n            continue;\n        }\n        mustConsume(\"END\");\n    }\n    return result;\n}\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile(str, options) {\n    return tokensToFunction(parse(str, options), options);\n}\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction(tokens, options) {\n    if (options === void 0) { options = {}; }\n    var reFlags = flags(options);\n    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;\n    // Compile all the tokens into regexps.\n    var matches = tokens.map(function (token) {\n        if (typeof token === \"object\") {\n            return new RegExp(\"^(?:\".concat(token.pattern, \")$\"), reFlags);\n        }\n    });\n    return function (data) {\n        var path = \"\";\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            if (typeof token === \"string\") {\n                path += token;\n                continue;\n            }\n            var value = data ? data[token.name] : undefined;\n            var optional = token.modifier === \"?\" || token.modifier === \"*\";\n            var repeat = token.modifier === \"*\" || token.modifier === \"+\";\n            if (Array.isArray(value)) {\n                if (!repeat) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not repeat, but got an array\"));\n                }\n                if (value.length === 0) {\n                    if (optional)\n                        continue;\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to not be empty\"));\n                }\n                for (var j = 0; j < value.length; j++) {\n                    var segment = encode(value[j], token);\n                    if (validate && !matches[i].test(segment)) {\n                        throw new TypeError(\"Expected all \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                    }\n                    path += token.prefix + segment + token.suffix;\n                }\n                continue;\n            }\n            if (typeof value === \"string\" || typeof value === \"number\") {\n                var segment = encode(String(value), token);\n                if (validate && !matches[i].test(segment)) {\n                    throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to match \\\"\").concat(token.pattern, \"\\\", but got \\\"\").concat(segment, \"\\\"\"));\n                }\n                path += token.prefix + segment + token.suffix;\n                continue;\n            }\n            if (optional)\n                continue;\n            var typeOfMessage = repeat ? \"an array\" : \"a string\";\n            throw new TypeError(\"Expected \\\"\".concat(token.name, \"\\\" to be \").concat(typeOfMessage));\n        }\n        return path;\n    };\n}\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match(str, options) {\n    var keys = [];\n    var re = pathToRegexp(str, keys, options);\n    return regexpToFunction(re, keys, options);\n}\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction(re, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.decode, decode = _a === void 0 ? function (x) { return x; } : _a;\n    return function (pathname) {\n        var m = re.exec(pathname);\n        if (!m)\n            return false;\n        var path = m[0], index = m.index;\n        var params = Object.create(null);\n        var _loop_1 = function (i) {\n            if (m[i] === undefined)\n                return \"continue\";\n            var key = keys[i - 1];\n            if (key.modifier === \"*\" || key.modifier === \"+\") {\n                params[key.name] = m[i].split(key.prefix + key.suffix).map(function (value) {\n                    return decode(value, key);\n                });\n            }\n            else {\n                params[key.name] = decode(m[i], key);\n            }\n        };\n        for (var i = 1; i < m.length; i++) {\n            _loop_1(i);\n        }\n        return { path: path, index: index, params: params };\n    };\n}\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str) {\n    return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options) {\n    return options && options.sensitive ? \"\" : \"i\";\n}\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path, keys) {\n    if (!keys)\n        return path;\n    var groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n    var index = 0;\n    var execResult = groupsRegex.exec(path.source);\n    while (execResult) {\n        keys.push({\n            // Use parenthesized substring match if available, index otherwise\n            name: execResult[1] || index++,\n            prefix: \"\",\n            suffix: \"\",\n            modifier: \"\",\n            pattern: \"\",\n        });\n        execResult = groupsRegex.exec(path.source);\n    }\n    return path;\n}\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(paths, keys, options) {\n    var parts = paths.map(function (path) { return pathToRegexp(path, keys, options).source; });\n    return new RegExp(\"(?:\".concat(parts.join(\"|\"), \")\"), flags(options));\n}\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(path, keys, options) {\n    return tokensToRegexp(parse(path, options), keys, options);\n}\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(tokens, keys, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.strict, strict = _a === void 0 ? false : _a, _b = options.start, start = _b === void 0 ? true : _b, _c = options.end, end = _c === void 0 ? true : _c, _d = options.encode, encode = _d === void 0 ? function (x) { return x; } : _d, _e = options.delimiter, delimiter = _e === void 0 ? \"/#?\" : _e, _f = options.endsWith, endsWith = _f === void 0 ? \"\" : _f;\n    var endsWithRe = \"[\".concat(escapeString(endsWith), \"]|$\");\n    var delimiterRe = \"[\".concat(escapeString(delimiter), \"]\");\n    var route = start ? \"^\" : \"\";\n    // Iterate over the tokens and create our regexp string.\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        if (typeof token === \"string\") {\n            route += escapeString(encode(token));\n        }\n        else {\n            var prefix = escapeString(encode(token.prefix));\n            var suffix = escapeString(encode(token.suffix));\n            if (token.pattern) {\n                if (keys)\n                    keys.push(token);\n                if (prefix || suffix) {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        var mod = token.modifier === \"*\" ? \"?\" : \"\";\n                        route += \"(?:\".concat(prefix, \"((?:\").concat(token.pattern, \")(?:\").concat(suffix).concat(prefix, \"(?:\").concat(token.pattern, \"))*)\").concat(suffix, \")\").concat(mod);\n                    }\n                    else {\n                        route += \"(?:\".concat(prefix, \"(\").concat(token.pattern, \")\").concat(suffix, \")\").concat(token.modifier);\n                    }\n                }\n                else {\n                    if (token.modifier === \"+\" || token.modifier === \"*\") {\n                        route += \"((?:\".concat(token.pattern, \")\").concat(token.modifier, \")\");\n                    }\n                    else {\n                        route += \"(\".concat(token.pattern, \")\").concat(token.modifier);\n                    }\n                }\n            }\n            else {\n                route += \"(?:\".concat(prefix).concat(suffix, \")\").concat(token.modifier);\n            }\n        }\n    }\n    if (end) {\n        if (!strict)\n            route += \"\".concat(delimiterRe, \"?\");\n        route += !options.endsWith ? \"$\" : \"(?=\".concat(endsWithRe, \")\");\n    }\n    else {\n        var endToken = tokens[tokens.length - 1];\n        var isEndDelimited = typeof endToken === \"string\"\n            ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n            : endToken === undefined;\n        if (!strict) {\n            route += \"(?:\".concat(delimiterRe, \"(?=\").concat(endsWithRe, \"))?\");\n        }\n        if (!isEndDelimited) {\n            route += \"(?=\".concat(delimiterRe, \"|\").concat(endsWithRe, \")\");\n        }\n    }\n    return new RegExp(route, flags(options));\n}\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(path, keys, options) {\n    if (path instanceof RegExp)\n        return regexpToRegexp(path, keys);\n    if (Array.isArray(path))\n        return arrayToRegexp(path, keys, options);\n    return stringToRegexp(path, keys, options);\n}\n//# sourceMappingURL=index.js.map","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nexport var getBaseUrl = function getBaseUrl() {\n  var rawUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var baseUrl = rawUrl.indexOf('http') == 0 ? undefined : 'http://localhost';\n  var url = new URL(rawUrl, baseUrl);\n  return url;\n};\nexport var getNormalizedUrl = function getNormalizedUrl() {\n  var rawUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var url = getBaseUrl(rawUrl);\n  var searchParamKeys = [];\n  if (url.search) {\n    var _iterator = _createForOfIteratorHelper(url.searchParams.keys()),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        searchParamKeys.push(key);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  return {\n    path: url.host + url.pathname,\n    searchParamKeys: searchParamKeys\n  };\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport { getBaseUrl } from './url';\nexport function Request(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (_typeof(input) === 'object') {\n    this.method = options.method || input.method || 'GET';\n    this.url = input.url;\n    this.body = options.body || input.body || null;\n    this.signal = options.signal || input.signal || null;\n  } else {\n    this.method = options.method || 'GET';\n    this.url = input;\n    this.body = options.body || null;\n    this.signal = options.signal || null;\n  }\n  var _url = getBaseUrl(this.url);\n  if (_url.search) {\n    this.searchParams = Object.fromEntries(new URLSearchParams(_url.search));\n  }\n}","// Copied from https://github.com/wheresrhys/fetch-mock/blob/2665378f5cb2a2de8d5214b007afe2d28040899c/src/lib/status-text.js\n\nvar statusTextMap = {\n  100: 'Continue',\n  101: 'Switching Protocols',\n  102: 'Processing',\n  200: 'OK',\n  201: 'Created',\n  202: 'Accepted',\n  203: 'Non-Authoritative Information',\n  204: 'No Content',\n  205: 'Reset Content',\n  206: 'Partial Content',\n  207: 'Multi-Status',\n  208: 'Already Reported',\n  226: 'IM Used',\n  300: 'Multiple Choices',\n  301: 'Moved Permanently',\n  302: 'Found',\n  303: 'See Other',\n  304: 'Not Modified',\n  305: 'Use Proxy',\n  307: 'Temporary Redirect',\n  308: 'Permanent Redirect',\n  400: 'Bad Request',\n  401: 'Unauthorized',\n  402: 'Payment Required',\n  403: 'Forbidden',\n  404: 'Not Found',\n  405: 'Method Not Allowed',\n  406: 'Not Acceptable',\n  407: 'Proxy Authentication Required',\n  408: 'Request Timeout',\n  409: 'Conflict',\n  410: 'Gone',\n  411: 'Length Required',\n  412: 'Precondition Failed',\n  413: 'Payload Too Large',\n  414: 'URI Too Long',\n  415: 'Unsupported Media Type',\n  416: 'Range Not Satisfiable',\n  417: 'Expectation Failed',\n  418: \"I'm a teapot\",\n  421: 'Misdirected Request',\n  422: 'Unprocessable Entity',\n  423: 'Locked',\n  424: 'Failed Dependency',\n  425: 'Unordered Collection',\n  426: 'Upgrade Required',\n  428: 'Precondition Required',\n  429: 'Too Many Requests',\n  431: 'Request Header Fields Too Large',\n  451: 'Unavailable For Legal Reasons',\n  500: 'Internal Server Error',\n  501: 'Not Implemented',\n  502: 'Bad Gateway',\n  503: 'Service Unavailable',\n  504: 'Gateway Timeout',\n  505: 'HTTP Version Not Supported',\n  506: 'Variant Also Negotiates',\n  507: 'Insufficient Storage',\n  508: 'Loop Detected',\n  509: 'Bandwidth Limit Exceeded',\n  510: 'Not Extended',\n  511: 'Network Authentication Required'\n};\nexport default statusTextMap;","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nexport function setRequestHeaders(xhr, headers) {\n  var _iterator = _createForOfIteratorHelper(headers),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      xhr.setRequestHeader(key, value);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nexport function getResponseHeaderMap(xhr) {\n  var headers = {};\n  xhr.getAllResponseHeaders().trim().split(/[\\r\\n]+/).map(function (value) {\n    return value.split(/: /);\n  }).forEach(function (keyValue) {\n    if (keyValue[0]) {\n      headers[keyValue[0].trim()] = keyValue[1] && keyValue[1].trim();\n    }\n  });\n  return headers;\n}\nexport var defaultResponseHeaders = {\n  'content-type': 'application/json'\n};","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport statusTextMap from './statusMap';\nimport { defaultResponseHeaders } from './headers';\nexport function Response(url, status, responseText) {\n  var _keys = [];\n  var all = [];\n  var headers = _objectSpread({}, defaultResponseHeaders);\n  // eslint-disable-next-line no-bitwise\n  this.ok = (status / 100 | 0) === 2; // 200-299\n  this.statusText = statusTextMap[status.toString()];\n  this.status = status;\n  this.url = url;\n  this.text = function () {\n    return Promise.resolve(typeof responseText === 'string' ? responseText : JSON.stringify(responseText));\n  };\n  this.json = function () {\n    return Promise.resolve(responseText);\n  };\n  this.clone = function () {\n    return new Response(url, status, responseText);\n  }, this.headers = {\n    keys: function keys() {\n      return _keys;\n    },\n    entries: function entries() {\n      return all;\n    },\n    get: function get(n) {\n      return headers[n.toLowerCase()];\n    },\n    has: function has(n) {\n      return n.toLowerCase() in headers;\n    }\n  };\n}","export function arrayEquals(a, b) {\n  if (!Array.isArray(a) || !Array.isArray(b) || a.length !== b.length) {\n    return false;\n  }\n  var sortedA = a.slice().sort();\n  var sortedB = b.slice().sort();\n  return !sortedA.some(function (val, index) {\n    return val !== sortedB[index];\n  });\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nimport statusTextMap from '../utils/statusMap';\nvar methods = ['GET', 'PUT', 'POST', 'DELETE', 'PATCH', 'OPTIONS'];\nvar statusCodes = Object.keys(statusTextMap);\nvar isObject = function isObject(value) {\n  return value && !Array.isArray(value) && _typeof(value) === 'object';\n};\nexport var schema = {\n  url: function url(value) {\n    return typeof value === 'string';\n  },\n  method: function method(value) {\n    return typeof value === 'string' && methods.find(function (method) {\n      return method.toLowerCase() === value.toLowerCase();\n    });\n  },\n  status: function status(value) {\n    return value && statusCodes.indexOf(value.toString()) >= 0;\n  },\n  response: function response(value) {\n    return (isObject(value) || Array.isArray(value) || typeof value === 'function') && value !== null;\n  },\n  delay: function delay(value) {\n    return value ? typeof value === 'number' : true;\n  }\n};\nexport function validate(object, schema) {\n  if (!isObject(object)) {\n    return [\"item: \".concat(JSON.stringify(object), \" is not a valid object.\")];\n  }\n  var errors = Object.keys(schema).filter(function (key) {\n    return !schema[key](object[key]);\n  }).map(function (key) {\n    return key + \": \".concat(JSON.stringify(object[key]), \" is not valid.\");\n  });\n  return errors;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/* eslint-disable no-restricted-globals */\nimport { newMockXhr } from 'mock-xmlhttprequest';\nimport { match } from 'path-to-regexp';\nimport { Request } from './request';\nimport { Response } from './response';\nimport { setRequestHeaders, getResponseHeaderMap, defaultResponseHeaders } from './headers';\nimport { arrayEquals } from './array';\nimport { getNormalizedUrl } from './url';\nimport { validate, schema } from './validator';\nvar global =\n// eslint-disable-next-line no-undef\ntypeof globalThis !== 'undefined' && globalThis || typeof self !== 'undefined' && self || typeof global !== 'undefined' && global || {};\nexport var Faker = /*#__PURE__*/function () {\n  function Faker() {\n    var _this = this;\n    _classCallCheck(this, Faker);\n    _defineProperty(this, \"getRequests\", function () {\n      return Object.values(_this.requestMap);\n    });\n    _defineProperty(this, \"getKey\", function () {\n      var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var searchParamKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n      return url && method ? [url].concat(_toConsumableArray(searchParamKeys), [method.toLowerCase()]).join('_') : '';\n    });\n    _defineProperty(this, \"makeInitialRequestMap\", function (requests) {\n      if (!requests || !Array.isArray(requests)) {\n        return;\n      }\n      _this.restore();\n      requests.forEach(function (request) {\n        _this.add(request);\n      });\n    });\n    _defineProperty(this, \"add\", function (request) {\n      var _getNormalizedUrl = getNormalizedUrl(request.url),\n        path = _getNormalizedUrl.path,\n        searchParamKeys = _getNormalizedUrl.searchParamKeys;\n      var key = _this.getKey(path, searchParamKeys, request.method);\n      var errors = validate(request, schema);\n      if (errors && errors.length) {\n        _this.requestMap[key] = {\n          errors: errors,\n          originalRequest: request\n        };\n        return;\n      }\n      _this.requestMap[key] = _objectSpread(_objectSpread({}, request), {}, {\n        path: path,\n        searchParamKeys: searchParamKeys,\n        method: request.method || 'GET',\n        status: request.status || 200,\n        delay: request.delay || 0,\n        skip: false,\n        errors: []\n      });\n    });\n    _defineProperty(this, \"update\", function (item, fieldKey, value) {\n      var url = item.url,\n        method = item.method;\n      var _getNormalizedUrl2 = getNormalizedUrl(url),\n        path = _getNormalizedUrl2.path,\n        searchParamKeys = _getNormalizedUrl2.searchParamKeys;\n      var itemKey = _this.getKey(path, searchParamKeys, method);\n      if (\n      // eslint-disable-next-line no-prototype-builtins\n      _this.requestMap.hasOwnProperty(itemKey) &&\n      // eslint-disable-next-line no-prototype-builtins\n      _this.requestMap[itemKey].hasOwnProperty(fieldKey)) {\n        _this.requestMap[itemKey][fieldKey] = value;\n      }\n    });\n    _defineProperty(this, \"matchMock\", function (url) {\n      var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n      var _getNormalizedUrl3 = getNormalizedUrl(url),\n        path = _getNormalizedUrl3.path,\n        searchParamKeys = _getNormalizedUrl3.searchParamKeys;\n      for (var key in _this.requestMap) {\n        var _this$requestMap$key = _this.requestMap[key],\n          requestUrl = _this$requestMap$key.url,\n          requestMethod = _this$requestMap$key.method;\n        var _getNormalizedUrl4 = getNormalizedUrl(requestUrl),\n          requestPath = _getNormalizedUrl4.path,\n          requestSearchKeys = _getNormalizedUrl4.searchParamKeys;\n        if (match(requestPath)(path) && method == requestMethod && arrayEquals(searchParamKeys, requestSearchKeys) && !_this.requestMap[key].skip) {\n          return _this.requestMap[key];\n        }\n      }\n      return null;\n    });\n    _defineProperty(this, \"mockFetch\", function (input, options) {\n      var request = new Request(input, options);\n      var url = request.url,\n        method = request.method;\n      var matched = _this.matchMock(url, method);\n      if (!matched) {\n        // eslint-disable-next-line no-restricted-globals\n        return global.realFetch(input, options);\n      }\n      var response = matched.response,\n        status = matched.status,\n        _matched$delay = matched.delay,\n        delay = _matched$delay === void 0 ? 0 : _matched$delay;\n      var mockResponseSent = false;\n      return new Promise(function (resolve, reject) {\n        var _request$signal;\n        var timeoutId = setTimeout(function () {\n          if (typeof response === 'function') {\n            resolve(new Response(url, status, response(request)));\n          } else {\n            resolve(new Response(url, status, response));\n          }\n          mockResponseSent = true;\n        }, +delay);\n        (_request$signal = request.signal) === null || _request$signal === void 0 ? void 0 : _request$signal.addEventListener('abort', function () {\n          if (mockResponseSent) {\n            return;\n          }\n          timeoutId && clearTimeout(timeoutId);\n          var error = new Error(request.signal.reason);\n          error.name = 'AbortError';\n          reject(error);\n        });\n      });\n    });\n    _defineProperty(this, \"mockXhrRequest\", function (request) {\n      var method = request.method,\n        url = request.url,\n        body = request.body;\n      var matched = _this.matchMock(url, method);\n      if (matched) {\n        var response = matched.response,\n          status = matched.status,\n          _matched$delay2 = matched.delay,\n          delay = _matched$delay2 === void 0 ? 0 : _matched$delay2;\n        setTimeout(function () {\n          if (typeof response === 'function') {\n            var data = response(new Request(url, {\n              method: method,\n              body: body\n            }));\n            request.respond(+status, defaultResponseHeaders, JSON.stringify(data));\n          } else {\n            request.respond(+status, defaultResponseHeaders, JSON.stringify(response));\n          }\n        }, +delay);\n      } else {\n        var RealXMLHTTPRequest = global.realXMLHttpRequest;\n        var realXhr = new RealXMLHTTPRequest();\n        var fakeXhr = request._responseReceiver;\n        realXhr.open(method, url);\n        realXhr.timeout = fakeXhr.timeout;\n        realXhr.withCredentials = fakeXhr.withCredentials;\n        _this.transferEventListeners(fakeXhr, realXhr);\n        setRequestHeaders(realXhr, new Map(Object.entries(request.requestHeaders.getHash())));\n        realXhr.addEventListener('readystatechange', function () {\n          if (realXhr.readyState === XMLHttpRequest.DONE) {\n            request.respond(realXhr.status, getResponseHeaderMap(realXhr), realXhr.responseText, realXhr.statusText);\n          }\n        });\n        realXhr.addEventListener('abort', function () {\n          return request.abort();\n        });\n        realXhr.addEventListener('error', function () {\n          return request.setNetworkError();\n        });\n        realXhr.addEventListener('timeout', function () {\n          return request.setRequestTimeout();\n        });\n        realXhr.send(body);\n      }\n    });\n    _defineProperty(this, \"restore\", function () {\n      _this.requestMap = {};\n    });\n    this.MockXhr = newMockXhr();\n    this.MockXhr.onSend = this.mockXhrRequest;\n    global.realFetch = global.fetch;\n    global.realXMLHttpRequest = global.XMLHttpRequest;\n    global.fetch = this.mockFetch;\n    global.XMLHttpRequest = this.MockXhr;\n    this.requestMap = {};\n  }\n  _createClass(Faker, [{\n    key: \"transferEventListeners\",\n    value: function transferEventListeners(fakeXhr, realXhr) {\n      fakeXhr._listeners.forEach(function (handlers, eventName) {\n        if (eventName === 'loadstart') {\n          // We can't transfer loadstart because it fires as soon as the user calls xhr.start() and\n          // before this method is called, so to avoid calling it twice, we refrain from transferring it.\n          return;\n        }\n        handlers.forEach(function (_ref) {\n          var isEventHandlerProperty = _ref.isEventHandlerProperty,\n            listener = _ref.listener,\n            useCapture = _ref.useCapture,\n            once = _ref.once;\n          if (isEventHandlerProperty) {\n            realXhr[\"on\".concat(eventName)] = listener;\n          } else {\n            realXhr.addEventListener(eventName, listener, {\n              once: once,\n              capture: useCapture\n            });\n          }\n        });\n      });\n      fakeXhr._listeners.clear();\n    }\n  }]);\n  return Faker;\n}();\nexport default new Faker();","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport { FORCE_RE_RENDER, STORY_CHANGED } from '@storybook/core-events';\nimport { addons } from '@storybook/addons';\nimport { EVENTS, PARAM_KEY, GLOBAL_PARAM_KEY } from './utils/constants';\nimport faker from './utils/faker';\nvar getParameter = function getParameter(parameters, key, defaultValue) {\n  return parameters[key] || defaultValue;\n};\nvar INITIAL_MOUNT_STATE = true;\nvar STORY_CHANGED_STATE = false;\nvar channel = addons.getChannel();\nexport var withRoundTrip = function withRoundTrip(storyFn, context) {\n  var parameters = context.parameters;\n  var paramData = getParameter(parameters, PARAM_KEY, []);\n  var mockAddonConfigs = getParameter(parameters, GLOBAL_PARAM_KEY, {\n    refreshStoryOnUpdate: false,\n    globalMockData: [],\n    disableUsingOriginal: false\n  });\n  var globalMockData = mockAddonConfigs.globalMockData,\n    refreshStoryOnUpdate = mockAddonConfigs.refreshStoryOnUpdate,\n    disableUsingOriginal = mockAddonConfigs.disableUsingOriginal;\n  var data = [].concat(_toConsumableArray(globalMockData), _toConsumableArray(paramData));\n\n  /**\n   * Initiate event listener for story change and update.\n   * This state executes once to setup.\n   */\n  if (INITIAL_MOUNT_STATE) {\n    faker.makeInitialRequestMap(data);\n    channel.emit(EVENTS.SEND, {\n      mockData: faker.getRequests(),\n      disableUsingOriginal: disableUsingOriginal\n    });\n    channel.on(STORY_CHANGED, function () {\n      STORY_CHANGED_STATE = true;\n    });\n    channel.on(EVENTS.UPDATE, function (_ref) {\n      var item = _ref.item,\n        key = _ref.key,\n        value = _ref.value;\n      faker.update(item, key, value);\n      var req = faker.getRequests();\n      channel.emit(EVENTS.SEND, {\n        mockData: req,\n        disableUsingOriginal: disableUsingOriginal\n      });\n      refreshStoryOnUpdate && channel.emit(FORCE_RE_RENDER);\n    });\n    INITIAL_MOUNT_STATE = false;\n  }\n\n  /**\n   * This state executes when a story change. So that it can\n   * take the new parameters to setup the faker requests.\n   */\n  if (STORY_CHANGED_STATE) {\n    faker.makeInitialRequestMap(data);\n    channel.emit(EVENTS.SEND, {\n      mockData: faker.getRequests(),\n      disableUsingOriginal: disableUsingOriginal\n    });\n    STORY_CHANGED_STATE = false;\n  }\n  return storyFn(context);\n};","import { withRoundTrip } from '../withRoundTrip';\nexport var decorators = [withRoundTrip];"],"names":["ADDON_ID","PARAM_KEY","GLOBAL_PARAM_KEY","EVENTS","HeadersContainer","headersOrSrc","key","value","name","result","headerValue","headers","currentValue","MockXhrRequest","_requestData","_responseReceiver","transmitted","status","body","statusText","length","getBodyByteSize","getStringByteLength","sum","valueSize","string","isTokenRegEx","isToken","token","isHeaderName","headerName","isHeaderValue","forbiddenHeaders","forbiddenHeaderRegEx","isRequestHeaderForbidden","isRequestMethod","method","isRequestMethodForbiddenRegEx","isRequestMethodForbidden","upperCaseMethods","upperCaseMethodsRegEx","normalizeHTTPMethodName","statusTexts","getStatusText","RequestData","_requestHeaders","_method","_url","_body","_credentialsMode","XhrEvent","type","XhrProgressEvent","loaded","total","XhrEventTarget","eventContext","listeners","listener","options","listenerEntry","makeListenerEntry","isEventHandlerProperty","useCapture","index","event","entry","optionsIsBoolean","RESPONSE_TYPES","MockXhr","_a","makeNetworkErrorResponse","request","requestBodyTransmitted","requestBodyLength","statusMessage","receivedBytesLength","url","async","throwError","extractedContentType","contentType","requestData","req","prototype","mime","response","onSend","delay","text","exception","newMockXhr","LocalMockXhr","lexer","str","tokens","i","char","j","code","count","pattern","parse","prefixes","defaultPattern","escapeString","path","tryConsume","mustConsume","nextType","consumeText","prefix","open","name_1","pattern_1","suffix","match","keys","re","pathToRegexp","regexpToFunction","decode","x","pathname","m","params","_loop_1","flags","regexpToRegexp","groupsRegex","execResult","arrayToRegexp","paths","parts","stringToRegexp","tokensToRegexp","strict","_b","start","_c","end","_d","encode","_e","delimiter","_f","endsWith","endsWithRe","delimiterRe","route","_i","tokens_1","mod","endToken","isEndDelimited","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","F","normalCompletion","didErr","err","step","_e2","minLen","_arrayLikeToArray","n","arr","len","arr2","getBaseUrl","rawUrl","baseUrl","getNormalizedUrl","searchParamKeys","_iterator","_step","_typeof","obj","Request","input","statusTextMap","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_s","_x","_r","_arr","_n","_e3","setRequestHeaders","xhr","_step$value","getResponseHeaderMap","keyValue","defaultResponseHeaders","ownKeys","object","enumerableOnly","symbols","sym","_objectSpread","target","source","_defineProperty","_toPropertyKey","arg","_toPrimitive","hint","prim","res","Response","responseText","_keys","all","arrayEquals","a","b","sortedA","sortedB","val","methods","statusCodes","isObject","schema","validate","errors","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","global","Faker","_this","requests","_getNormalizedUrl","item","fieldKey","_getNormalizedUrl2","itemKey","_getNormalizedUrl3","_this$requestMap$key","requestUrl","requestMethod","_getNormalizedUrl4","requestPath","requestSearchKeys","matched","_matched$delay","mockResponseSent","resolve","reject","_request$signal","timeoutId","error","_matched$delay2","data","RealXMLHTTPRequest","realXhr","fakeXhr","handlers","eventName","_ref","once","faker","FORCE_RE_RENDER","STORY_CHANGED","addons","getParameter","parameters","defaultValue","INITIAL_MOUNT_STATE","STORY_CHANGED_STATE","channel","withRoundTrip","storyFn","context","paramData","mockAddonConfigs","globalMockData","refreshStoryOnUpdate","disableUsingOriginal","decorators"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]}